<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè h√†ng - Creamy Tea</title>
    <link rel="stylesheet" href="Styles/cart.css">
      <link rel="stylesheet" href="Styles/timkiem.css">
   <script src="Scripts/search.js" defer></script>
        <link rel="icon" type="image/png" href="images/LOGO P2_preview_rev_1.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
   <div class="header">
        <div class="tren">
            <div class="iconcha">
                <div class="icon">‚ò∞</div>
            </div>
            <div class="menu">
                <nav>
                    <a href="index.html">Trang Ch·ªß</a>
                    <a href="index2.html">V·ªÅ Ch√∫ng T√¥i</a>
                    <a href="menu.html">Menu</a>
                    <a href="tintuc.html">Tin T·ª©c</a>
                    <a href="lienhe.html">Li√™n h·ªá</a>
                    <div class="search-container">
                        <input type="text" placeholder="T√¨m ki·∫øm..." class="search-input">
                        <button type="submit" class="search-button">üîç</button>
                    </div>
                </nav>
            </div>
        </div>
    </div>  

    <div class="cart-container">
        <div class="cart-header">
            <button class="back-btn" onclick="window.history.back()">
                <i class="fas fa-arrow-left"></i> Quay l·∫°i
            </button>
            <h1>Gi·ªè h√†ng c·ªßa b·∫°n</h1>
        </div>
        <div class="cart-items">
            <!-- C√°c s·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y b·∫±ng JavaScript -->
        </div>
        <div class="cart-total">
            <h3>T·ªïng c·ªông: <span id="total-amount">0ƒë</span></h3>
            <button class="checkout-btn">Thanh to√°n</button>
        </div>
    </div>

<!-- Th√™m modal thanh to√°n -->
<div id="payment-modal" class="modal">
    <div class="modal-content">
        <h2>Qu√©t m√£ QR ƒë·ªÉ thanh to√°n</h2>
        <div class="qr-container">
            <img src="images/maqrthanhtoan.jpg" alt="M√£ QR thanh to√°n">
        </div>
        <div class="timer">
            <p>Th·ªùi gian c√≤n l·∫°i: <span id="countdown">5:00</span></p>
        </div>
        <button class="close-modal">&times;</button>
    </div>
</div>

    <script src="Scripts/cart.js"></script>
    <script>
        // Menu toggle
        document.querySelector('.icon').addEventListener('click', function() {
            document.querySelector('.menu').classList.toggle('active');
            this.classList.toggle('active');
            this.innerHTML = this.classList.contains('active') ? '‚úñ' : '‚ò∞';
        });

        // X·ª≠ l√Ω hi·ªáu ·ª©ng menu khi cu·ªôn
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop) {
                // Cu·ªôn xu·ªëng
                document.querySelector('.menu').classList.remove('active');
            } else {
                // Cu·ªôn l√™n
                if (scrollTop > 100) {
                    document.querySelector('.menu').classList.add('active');
                } else {
                    document.querySelector('.menu').classList.remove('active');
                }
            }
            lastScrollTop = scrollTop;
        });

        // X·ª≠ l√Ω modal
        document.querySelector('.checkout-btn').addEventListener('click', function() {
            const modal = document.getElementById('payment-modal');
            modal.classList.add('active');  // Thay v√¨ style.display = 'block'
            startCountdown();
        });

        document.querySelector('.close-modal').addEventListener('click', function() {
            document.getElementById('payment-modal').classList.remove('active');  // Thay v√¨ style.display = 'none'
        });

        function startCountdown() {
            let timeLeft = 5 * 60;
            const countdownDisplay = document.getElementById('countdown');
            
            const timer = setInterval(function() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                
                countdownDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    document.getElementById('payment-modal').classList.remove('active');  // Thay ƒë·ªïi n√†y n·ªØa
                    alert('H·∫øt th·ªùi gian thanh to√°n!');
                }
                
                timeLeft--;
            }, 1000);
        }
        document.querySelector('.checkout-btn').addEventListener('click', function() {
    console.log('N√∫t thanh to√°n ƒë∆∞·ª£c click');
    const modal = document.getElementById('payment-modal');
    console.log('Modal element:', modal);
    modal.classList.add('active');
    console.log('ƒê√£ th√™m class active');
    startCountdown();
});
    </script>
</body>
</html>
